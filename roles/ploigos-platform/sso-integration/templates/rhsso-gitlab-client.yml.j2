# Add keycloak client for OpenShift
- apiVersion: keycloak.org/v1alpha1
  kind: KeycloakClient
  metadata:
    name: gitlab-client
    namespace: {{ rhsso_project_name }}
    labels:
      app: {{ rhsso_app_label }}
  spec:
    realmSelector:
      matchLabels:
        app: {{ rhsso_app_label }}
    client:
      clientId: {{ rhsso_gitlab_client_id }}
      name: {{ rhsso_gitlab_client_id }}
      enabled: true
      clientAuthenticatorType: client-secret
      publicClient: false
      redirectUris:
        - 'https://gitlab-{{ ploigos_namespace }}.apps.{{ subdomain }}/*'
      rootUrl: 'https://gitlab-{{ ploigos_namespace }}.apps.{{ subdomain }}/'
      protocol: openid-connect
      standardFlowEnabled: true
